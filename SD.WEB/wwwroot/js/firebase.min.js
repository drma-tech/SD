"use strict";async function FirebaseSignIn(n){if(typeof firebaseAuth=="undefined"||!firebaseAuth){showError("Login is temporarily unavailable. Please make sure you have a stable connection or try again later.");typeof firebaseAuth=="undefined"?sendLog("firebaseAuth is undefined in FirebaseSignIn"):firebaseAuth||sendLog("firebaseAuth is null in FirebaseSignIn");return}await firebaseAuth.signIn(n)}const firebaseConfig={apiKey:"AIzaSyDj5LpsT7-bra4hvuvb5E_BPSlD7Wr29nQ",authDomain:"auth.streamingdiscovery.com",projectId:"streaming-discovery-4c483",storageBucket:"streaming-discovery-4c483.firebasestorage.app",messagingSenderId:"394152837411",appId:"1:394152837411:web:06b7216d2859bdc1224c96",measurementId:"G-JKXTVXM0EX"};window.initFirebase=()=>{if(typeof firebase=="undefined"||!firebase?.auth||!firebase?.messaging){setTimeout(window.initFirebase,100);return}firebase.initializeApp(firebaseConfig);const n=firebase.auth(),t=firebase.messaging();n.setPersistence(firebase.auth.Auth.Persistence.LOCAL);n.onAuthStateChanged(async n=>{await AuthStateChanged(n)});window.firebaseAuth={signIn:async t=>{try{const r={google:new firebase.auth.GoogleAuthProvider,apple:new firebase.auth.OAuthProvider("apple.com"),facebook:new firebase.auth.FacebookAuthProvider,microsoft:new firebase.auth.OAuthProvider("microsoft.com"),yahoo:new firebase.auth.OAuthProvider("yahoo.com"),x:new firebase.auth.TwitterAuthProvider},i=r[t];if(!i)throw new Error(`Unsupported provider: ${t}`);const u=GetLocalStorage("platform");isLocalhost||u=="ios"?await n.signInWithPopup(i):await n.signInWithRedirect(i)}catch(i){sendLog(i);throw new Error(i.message);}},signOut:async()=>{try{await n.signOut()}catch(t){sendLog(t);throw new Error(t.message);}},getUser:()=>n.currentUser};t.onMessage(n=>{if(Notification.permission==="granted"){const{title:t,body:i}=n.data||{};new Notification(t,{body:i})}})};isBot||window.initFirebase();